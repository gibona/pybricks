# pybricks blocks file:{"blocks":{"languageVersion":0,"blocks":[{"type":"blockGlobalSetup","id":"bjK,wS1MYO7aiYkFSwd{","x":-38,"y":5,"deletable":false,"next":{"block":{"type":"variables_set_city_hub","id":"ZRpv)bQ_A|8C:_oAgehH","extraState":{"optionLevel":0},"fields":{"VAR":{"id":"6Nhb-)Cm[(%u0kno-=rf"}},"next":{"block":{"type":"variables_set_motor","id":"fP~tX6LzSUa@/?$y^:2}","fields":{"VAR":{"id":"%Fn3xc:Qr~map/`Uql@l"}},"inputs":{"PORT":{"shadow":{"type":"blockParametersPort","id":"+Lj6G]n8#K.4.w9OT1e?","fields":{"NAME":"A"}}},"POSITIVE_DIRECTION":{"shadow":{"type":"blockParametersDirection","id":"{J!r%$@)W+a_w.xph/Fh","fields":{"SELECTION":"Direction.CLOCKWISE"}}}},"next":{"block":{"type":"variables_set_color_sensor","id":"so~DP@Nv|y7:S=LT!9g@","extraState":{"optionLevel":0},"fields":{"VAR":{"id":"9y5QIK63E^_kS~f`Pd_k"}},"inputs":{"PORT":{"shadow":{"type":"blockParametersPort","id":"Qo-VS+89=yfiJ(cMS|31","fields":{"NAME":"B"}}}}}}}}}}},{"type":"blockGlobalStart","id":"3tJe|AWl0baN(wH9a$@.","x":-38,"y":208,"deletable":false,"next":{"block":{"type":"blockHubStopButton","id":")~7`)Xu@HbinOwhTe@-q","inputs":{"VAR":{"shadow":{"type":"variables_get_button_hub","id":"{z@bWDiu|D7ELv?f-zK3","fields":{"VAR":{"id":"6Nhb-)Cm[(%u0kno-=rf","name":"city hub","type":"CityHub"}}}},"VALUE0":{"shadow":{"type":"blockParametersButton","id":")C#R)}P,mxuM5Y7/o(QT","fields":{"VALUE":"CENTER"}},"block":{"type":"blockButtonIsPressed","id":"y/`:b1%/;8II[f8}dzQt","inputs":{"VAR":{"shadow":{"type":"variables_get_keypad","id":"4V4$VVRZ::d9i0%x#-vc","fields":{"VAR":{"id":"6Nhb-)Cm[(%u0kno-=rf","name":"city hub","type":"CityHub"}}}},"VALUE0":{"shadow":{"type":"blockParametersButton","id":"B^F+#6,Pos9IT0(n9uqh","fields":{"VALUE":"CENTER"}}}}}}},"next":{"block":{"type":"blockLightOnColor","id":"@(oqE,_lL2v=^3_Z~P%z","extraState":{"optionLevel":1},"fields":{"METHOD":"LIGHT_ON"},"inputs":{"VAR":{"shadow":{"type":"variables_get_color_light_device","id":"q)od5rPM=gzkWU6^yPJZ","fields":{"VAR":{"id":"6Nhb-)Cm[(%u0kno-=rf","name":"city hub","type":"CityHub"}}}},"COLOR":{"shadow":{"type":"variables_get_color","id":"AoabZ*wYC`U|BuQ!XP~z","fields":{"COLOUR":"#0000ff","VAR":{"id":"#l{_6R2Kh{iYARGD~[l.","name":"blue","type":"ColorDef"}}}}},"next":{"block":{"type":"blockFlowWhile","id":"[{7SQ{AC^*w!Iea~-0mw","fields":{"MODE":"WHILE"},"inputs":{"BOOL":{"shadow":{"type":"blockLogicTrue","id":"+_Y#`@01+5dy[L_IH4Y8"}},"DO":{"block":{"type":"blockFlowForEach","id":"IT{6*W)`/@OOs?YCAVBu","inputs":{"VAR":{"shadow":{"type":"variables_setup_iterable","id":"k_mHk7tcPx:SkmS;eem8","fields":{"VAR":{"id":"K+6gUE%[_,uJ9^7Y@Tiv","name":"color","type":"LoopVariable"}}}},"LIST":{"shadow":{"type":"blockListEmpty","id":"-uoG?+tqQb*[!_*@bv}g"},"block":{"type":"blockListCreate","id":"S6s4sYm2T+I`Q0A.:jFZ","extraState":{"optionLevel":7},"inputs":{"ADD0":{"shadow":{"type":"blockMathNumber","id":"Glh#Qdbck_!:+G5g50Yk","fields":{"NUM":0}},"block":{"type":"variables_get_color","id":"k6a75z1*o}e:6^0y%F?w","fields":{"COLOUR":"#00ff00","VAR":{"id":"*cjn*QOy-QBWY#f#ja/I"}}}},"ADD1":{"shadow":{"type":"blockMathNumber","id":"M/^Nn[o/x|*0%$tri9HK","fields":{"NUM":0}},"block":{"type":"variables_get_color","id":"=wFG.?c{,WP5Q5{{LavH","fields":{"COLOUR":"#ff0000","VAR":{"id":"0;r[$oFicKg(;4YU/uwh"}}}},"ADD2":{"shadow":{"type":"blockMathNumber","id":"8BPCnXb;Z0X-cL8rM2Ua","fields":{"NUM":0}},"block":{"type":"variables_get_color","id":"H2+W%)DX.FdQ@_edFMSw","fields":{"COLOUR":"#0000ff","VAR":{"id":"#l{_6R2Kh{iYARGD~[l."}}}},"ADD3":{"shadow":{"type":"blockMathNumber","id":"iXWSfk#REdo~OeF.hT~.","fields":{"NUM":0}},"block":{"type":"variables_get_color","id":"dxB2i|xj*`PHVWTngq1u","fields":{"COLOUR":"#ffffff","VAR":{"id":"{;zbm0otTqs$-L#EFw^0"}}}},"ADD4":{"shadow":{"type":"blockMathNumber","id":"E/!pbC5)aj54Wp]C%fWI","fields":{"NUM":0}},"block":{"type":"variables_get_color","id":"rBe-?+NW({!k.mfcacIL","fields":{"COLOUR":"#ff00ff","VAR":{"id":"NOWH-E)vulOUj0Nv{kc8"}}}},"ADD5":{"shadow":{"type":"blockMathNumber","id":"/;!c$Hka|Q8:i55roDMF","fields":{"NUM":0}},"block":{"type":"variables_get_color","id":"xA,k8O:`3zjjX!n$mg9_","fields":{"COLOUR":"#ffff00","VAR":{"id":"ZBD._/JZ=:hbjxZ^l@Gk"}}}},"ADD6":{"shadow":{"type":"blockMathNumber","id":"erGfWSwUUDQ6S/-j)aXt","fields":{"NUM":0}},"block":{"type":"variables_get_color","id":"w3.BbbUZ?#GI11]V3_Vz","fields":{"COLOUR":"#000000","VAR":{"id":"VR#Y;PPJC+/HRKw#fqP~"}}}}}}},"DO":{"block":{"type":"blockIfElse","id":"3KKp.d2poQ3F=0cRMm;2","extraState":{"optionLevel":0},"inputs":{"IF0":{"shadow":{"type":"blockLogicTrue","id":"A[B0{PHneTM/bA%fs6Oc"},"block":{"type":"blockLogicCompare","id":"xuCu;^|O5R4yxZ_OItN]","fields":{"OP1":"EQ"},"inputs":{"A":{"shadow":{"type":"blockMathNumber","id":"P`c5I25S/1byiBG{v.oW","fields":{"NUM":0}},"block":{"type":"blockColor","id":",+6Q=VX.uRSNTM]H,3e,","extraState":{"optionLevel":0},"fields":{"METHOD":"COLOR_GET_COLOR"},"inputs":{"VAR":{"shadow":{"type":"variables_get_color_device","id":"h!{qmm7%;MqUkmd5xn8+","fields":{"VAR":{"id":"9y5QIK63E^_kS~f`Pd_k","name":"color sensor","type":"ColorSensor"}}}}}}},"B":{"shadow":{"type":"blockMathNumber","id":"1YwAT+;0tHx#!s.[qT^y","fields":{"NUM":0}},"block":{"type":"variables_setup_iterableConstant","id":"fw!Ty0oM0QNA^6rA30xp","fields":{"VAR":{"text":"color"}}}}}}},"DO0":{"block":{"type":"blockLightOnColor","id":"wV7d!ZtbS6?4WME:GnPB","extraState":{"optionLevel":1},"fields":{"METHOD":"LIGHT_ON"},"inputs":{"VAR":{"shadow":{"type":"variables_get_color_light_device","id":",_Z]$6[lD+pVou;5g:R1","fields":{"VAR":{"id":"6Nhb-)Cm[(%u0kno-=rf","name":"city hub","type":"CityHub"}}}},"COLOR":{"shadow":{"type":"variables_get_color","id":"83KnzO`3wZ/Yk9u)P7Lx","fields":{"COLOUR":"#ff0000","VAR":{"id":"0;r[$oFicKg(;4YU/uwh","name":"red","type":"ColorDef"}}},"block":{"type":"variables_setup_iterableConstant","id":"of_ZG9Fn]Z?69gAn5iAg","fields":{"VAR":{"text":"color"}}}}}}}}}}},"next":{"block":{"type":"blockIfElse","id":"3q#Epx7Lq*nIM:q8Wh@*","extraState":{"optionLevel":1},"inputs":{"IF0":{"shadow":{"type":"blockLogicTrue","id":"A[B0{PHneTM/bA%fs6Oc"},"block":{"type":"blockLogicCompare","id":"bt(4:(EHAp(xTuTU^pC1","fields":{"OP1":"EQ"},"inputs":{"A":{"shadow":{"type":"blockMathNumber","id":"P`c5I25S/1byiBG{v.oW","fields":{"NUM":0}},"block":{"type":"blockColor","id":"5EZ:P{j~@xOOA_oJA}9)","extraState":{"optionLevel":0},"fields":{"METHOD":"COLOR_GET_COLOR"},"inputs":{"VAR":{"shadow":{"type":"variables_get_color_device","id":"s@0tU*(pZ)K$8tiM+A4r","fields":{"VAR":{"id":"9y5QIK63E^_kS~f`Pd_k","name":"color sensor","type":"ColorSensor"}}}}}}},"B":{"shadow":{"type":"blockMathNumber","id":"1YwAT+;0tHx#!s.[qT^y","fields":{"NUM":0}},"block":{"type":"variables_get_color","id":"=(Xftz6?R`_,=A_-)p!(","fields":{"COLOUR":"#00ff00","VAR":{"id":"*cjn*QOy-QBWY#f#ja/I"}}}}}}},"DO0":{"block":{"type":"blockMotorDuty","id":"Bec,bHSr)=LQ9-yenTnb","inputs":{"VAR":{"shadow":{"type":"variables_get_simple_motor_device","id":"^Me8s.]zib2MW|Vfr?Q7","fields":{"VAR":{"id":"%Fn3xc:Qr~map/`Uql@l","name":"motor","type":"Motor"}}}},"VALUE0":{"shadow":{"type":"unit_percent","id":"o9!aNekwwyN.z8KJ$n-e","fields":{"VALUE0":100}}}}}},"ELSE":{"block":{"type":"blockIfElse","id":"X@FC,KNUWecCbwO+IFKE","extraState":{"optionLevel":1},"inputs":{"IF0":{"shadow":{"type":"blockLogicTrue","id":"A[B0{PHneTM/bA%fs6Oc"},"block":{"type":"blockLogicCompare","id":"y|1fYgVX7~Nt_{2Yab#d","fields":{"OP1":"EQ"},"inputs":{"A":{"shadow":{"type":"blockMathNumber","id":"P`c5I25S/1byiBG{v.oW","fields":{"NUM":0}},"block":{"type":"blockColor","id":"iQ!|PxII;XR4_x*=*(aO","extraState":{"optionLevel":0},"fields":{"METHOD":"COLOR_GET_COLOR"},"inputs":{"VAR":{"shadow":{"type":"variables_get_color_device","id":"#Sza%%ekA+ySgiz-=F[9","fields":{"VAR":{"id":"9y5QIK63E^_kS~f`Pd_k","name":"color sensor","type":"ColorSensor"}}}}}}},"B":{"shadow":{"type":"blockMathNumber","id":"1YwAT+;0tHx#!s.[qT^y","fields":{"NUM":0}},"block":{"type":"variables_get_color","id":"=JY.{o2v6mDYcEyib{a8","fields":{"COLOUR":"#ff0000","VAR":{"id":"0;r[$oFicKg(;4YU/uwh"}}}}}}},"DO0":{"block":{"type":"blockMotorDuty","id":"[5]$]sTKEJ[qrPTFx{41","inputs":{"VAR":{"shadow":{"type":"variables_get_simple_motor_device","id":"n(_3co5%a6oc=nK7R.1N","fields":{"VAR":{"id":"%Fn3xc:Qr~map/`Uql@l","name":"motor","type":"Motor"}}}},"VALUE0":{"shadow":{"type":"unit_percent","id":"DR(x?tB}.bsOuKjPR_+r","fields":{"VALUE0":0}}}}}},"ELSE":{"block":{"type":"blockIfElse","id":"YTh$oW8BGxHQ*n!}W/U]","extraState":{"optionLevel":1},"inputs":{"IF0":{"shadow":{"type":"blockLogicTrue","id":"A[B0{PHneTM/bA%fs6Oc"},"block":{"type":"blockLogicCompare","id":"@Oe6?$6Derbcv-afxLH?","fields":{"OP1":"EQ"},"inputs":{"A":{"shadow":{"type":"blockMathNumber","id":"P`c5I25S/1byiBG{v.oW","fields":{"NUM":0}},"block":{"type":"blockColor","id":"gFu^RBwh}Cr7];t4Q#|m","extraState":{"optionLevel":0},"fields":{"METHOD":"COLOR_GET_COLOR"},"inputs":{"VAR":{"shadow":{"type":"variables_get_color_device","id":"MAw9EnbrYQ4+B2:6C_yq","fields":{"VAR":{"id":"9y5QIK63E^_kS~f`Pd_k","name":"color sensor","type":"ColorSensor"}}}}}}},"B":{"shadow":{"type":"blockMathNumber","id":"1YwAT+;0tHx#!s.[qT^y","fields":{"NUM":0}},"block":{"type":"variables_get_color","id":"|v%m.+(%:Pi_H##Tf)W|","fields":{"COLOUR":"#ffff00","VAR":{"id":"ZBD._/JZ=:hbjxZ^l@Gk"}}}}}}},"DO0":{"block":{"type":"blockMotorDuty","id":"lSg3zsA4.oce9*NZ}]k#","inputs":{"VAR":{"shadow":{"type":"variables_get_simple_motor_device","id":"oUzL,z@)49eh%j,!)Ih7","fields":{"VAR":{"id":"%Fn3xc:Qr~map/`Uql@l","name":"motor","type":"Motor"}}}},"VALUE0":{"shadow":{"type":"unit_percent","id":"pSL$%xTdL,JFc444mEm3","fields":{"VALUE0":50}}}}}},"ELSE":{"block":{"type":"blockIfElse","id":"4F+hDI#w`@efV7[rqq}_","extraState":{"optionLevel":0},"inputs":{"IF0":{"shadow":{"type":"blockLogicTrue","id":"A[B0{PHneTM/bA%fs6Oc"},"block":{"type":"blockLogicCompare","id":"o6+dwH!O|?v/Rz`G86yD","fields":{"OP1":"EQ"},"inputs":{"A":{"shadow":{"type":"blockMathNumber","id":"P`c5I25S/1byiBG{v.oW","fields":{"NUM":0}},"block":{"type":"blockColor","id":"/+!?PaBBKExD5IMq7Fgw","extraState":{"optionLevel":0},"fields":{"METHOD":"COLOR_GET_COLOR"},"inputs":{"VAR":{"shadow":{"type":"variables_get_color_device","id":"w+4)!A5MtHXO._Q:z3N!","fields":{"VAR":{"id":"9y5QIK63E^_kS~f`Pd_k","name":"color sensor","type":"ColorSensor"}}}}}}},"B":{"shadow":{"type":"blockMathNumber","id":"1YwAT+;0tHx#!s.[qT^y","fields":{"NUM":0}},"block":{"type":"variables_get_color","id":"SgV#T@Qgvj.p8L8pfM}Q","fields":{"COLOUR":"#ffffff","VAR":{"id":"{;zbm0otTqs$-L#EFw^0"}}}}}}},"DO0":{"block":{"type":"blockMotorDuty","id":"SUcmRdnk-5NI0R42g};(","inputs":{"VAR":{"shadow":{"type":"variables_get_simple_motor_device","id":"*Y}L0;sK($[::s0z%L_f","fields":{"VAR":{"id":"%Fn3xc:Qr~map/`Uql@l","name":"motor","type":"Motor"}}}},"VALUE0":{"shadow":{"type":"unit_percent","id":"6L~#qUFo!%}2jh=kN)W1","fields":{"VALUE0":25}}}}}}}}}}}}}}}},"next":{"block":{"type":"blockWaitTime","id":"qfHZHxzAh1?2^a[t]X1[","inputs":{"VALUE0":{"shadow":{"type":"unit_time","id":"6-+6^:((Z;ignt0uQ3GC","fields":{"VALUE0":100}}}}}}}}}}}}}}}}}},{"type":"variables_setup_iterableConstant","id":"it~M^P~hxCC[TKgy,G.~","x":424,"y":681,"enabled":false,"fields":{"VAR":{"text":"color"}}}]},"variables":[{"name":"red","id":"0;r[$oFicKg(;4YU/uwh","type":"ColorDef"},{"name":"orange","id":"3$`N[?|TgM$Y0)Q6?^gj","type":"ColorDef"},{"name":"yellow","id":"ZBD._/JZ=:hbjxZ^l@Gk","type":"ColorDef"},{"name":"green","id":"*cjn*QOy-QBWY#f#ja/I","type":"ColorDef"},{"name":"cyan","id":":+/(,*T{Y!O9skO`19WO","type":"ColorDef"},{"name":"blue","id":"#l{_6R2Kh{iYARGD~[l.","type":"ColorDef"},{"name":"violet","id":"dFp6pN%KZ$.#CR8f{rhR","type":"ColorDef"},{"name":"magenta","id":"NOWH-E)vulOUj0Nv{kc8","type":"ColorDef"},{"name":"white","id":"{;zbm0otTqs$-L#EFw^0","type":"ColorDef"},{"name":"none","id":"VR#Y;PPJC+/HRKw#fqP~","type":"ColorDef"},{"name":"city hub","id":"6Nhb-)Cm[(%u0kno-=rf","type":"CityHub"},{"name":"motor","id":"%Fn3xc:Qr~map/`Uql@l","type":"Motor"},{"name":"color","id":"K+6gUE%[_,uJ9^7Y@Tiv","type":"LoopVariable"},{"name":"color sensor","id":"9y5QIK63E^_kS~f`Pd_k","type":"ColorSensor"}],"info":{"type":"pybricks","version":"1.2.3"}}
from pybricks.hubs import CityHub
from pybricks.parameters import Button, Color, Direction, Port
from pybricks.pupdevices import ColorSensor, Motor
from pybricks.tools import wait

# Set up all devices.
city_hub = CityHub()
color_sensor = ColorSensor(Port.B)
motor = Motor(Port.A, Direction.CLOCKWISE)


# The main program starts here.
city_hub.system.set_stop_button(Button.CENTER in city_hub.buttons.pressed())
city_hub.light.on(Color.BLUE)
while True:
    for color in [Color.GREEN, Color.RED, Color.BLUE, Color.WHITE, Color.MAGENTA, Color.YELLOW, Color.NONE]:
        if color_sensor.color() == color:
            city_hub.light.on(color)
    if color_sensor.color() == Color.GREEN:
        motor.dc(100)
    else:
        if color_sensor.color() == Color.RED:
            motor.dc(0)
        else:
            if color_sensor.color() == Color.YELLOW:
                motor.dc(50)
            else:
                if color_sensor.color() == Color.WHITE:
                    motor.dc(25)
    wait(100)
